## 未决数据包(Punting Packets)
### 概述
“未决”对不同的人可能意味着不同的事情。在VPP中，当数据包无法由其他任何节点处理时，数据平面将启动。Punt与drop有所不同，因为VPP为系统的其他元素提供了处理此数据包的机会。

未决的普遍含义是将数据包发送到用户/控制平面。这是上述更一般情况的特定选项，其中VPP将数据包移交给控制平面以进行进一步处理。

### 未决基础设施
异常数据包是给定节点无法通过常规机制处理的那些数据包。未决异常数据包是通过VLIB的“未决基础设施”处理的。有两种类型的节点：来源和接收器。在加载时，源从基础架构分配了一个未决“理由”。当他们在交换期间遇到异常时，它将使用理由标记数据包，并发送数据包到未决调度节点。在加载时，接收器向基础设施注册未决处理器，因此它可以接收由于该原因而被未决的数据包。如果由于给定的原因没有注册接收器，则丢弃数据包，如果注册了多个接收器，则复制数据包。

这种机制允许我们扩展系统以处理源节点否则会丢弃的数据包。

### 未决转到控制平面
#### 主动未决
用户/控制平面指定这是我要接收的数据包类型，这是我要发送的数据包的位置。

当前存在如下3种方法来描述如何对要未决的数据包进行匹配/分类:

1. a matching UDP port
2. a matching IP protocol (i.e. OSPF)
3. a matching punt exception reason (see above)

根据未决的数据包的类型/分类，该主动未决将自己注册到VLIB图中以接收那些数据包。例如，如果它是与UDP端口匹配的数据包，则它将挂接到UDP端口分派功能: udp_register_port()。

对于被动未决，只有一个接收器，一个unix domain套接字。但是，这一领域正在开展更多工作。

请参阅API：vnet/ip/punt.api

#### 被动未决
VPP输入数据包处理可以描述为一系列分类器。例如，一系列输入分类器可以是IP吗? 是给我们的吗? 是UDP吗? 它是已知的UDP端口吗? 如果在此管道(Pipeline)中的某个时刻VPP没有其他分类，则可以对数据包进行未决处理，这意味着将其发送到ipX-punt节点。这被描述为无源的，因为控制平面正在接收VPP本身不处理的每个数据包。对于被动未决，用户可以指定将数据包发送到何处以及是否/如何管理/限制速率。